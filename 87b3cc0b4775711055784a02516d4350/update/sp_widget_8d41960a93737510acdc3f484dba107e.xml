<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function() {  /* widget controller */  var c = this;};]]></client_script>
        <controller_as>c</controller_as>
        <css>html {
  box-sizing: border-box;
  font-size: 62.5%;
}

body {
  display: flex;
  justify-content: center;
  align-content: center;
  padding: 6rem;
  background-color: #f5f5f5;
  font-family: "Inter", sans-serif;
}

@media (max-width: 60em) {
  body {
    padding: 3rem;
  }
}

.grid {
  display: grid;
	padding: 2rem 0;
  grid-gap: 3rem;
  grid-template-columns: repeat(auto-fit, minmax(30rem, 1fr));
}

@media (max-width: 60em) {
  .grid {
    grid-gap: 3rem;
  }
}

.grid .card {
  display: flex;
  flex-direction: column;
  background-color: #fff;
  border-radius: 0.4rem;
  overflow: hidden;
  box-shadow: 0 3rem 6rem rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: 0.2s;
  //height: 28rem; 
}
.grid .card:hover {
  transform: translateY(-0.5%);
  box-shadow: 0 4rem 8rem rgba(0, 0, 0, 0.2);
}
.grid .card__img {
  margin-top: 2rem;
  display: block;
  width: 100%;
  height: 14rem;
  object-fit: contain;
}
.grid .card__content {
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-row-gap: 2rem;
  padding: 2rem;
  height: 30rem;
}
.grid .card__header {
  font-size: 3rem;
  font-weight: 500;
  color: #0d0d0d;
}
.grid .card__text-wrapper {
 	position: relative; 
}

.card__text {
 	position: inline; 
}
.grid .card__text-wrapper p {
  display: -webkit-box;
  max-width: 400px;
  -webkit-line-clamp: 6;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.grid .card__text {
  font-size: 1.5rem;
  letter-spacing: 0.1rem;
  line-height: 1.7;
  color: #3d3d3d;
  margin-bottom: 2.5rem;
}

.grid .card__btn {
  display: block;
  width: 90%;
  margin: 2rem;
  padding: 1.5rem;
  font-size: 2rem;
  text-align: center;
  color: #3363ff;
  background-color: #e6ecff;
  border: none;
  border-radius: 0.4rem;
  transition: 0.2s;
  cursor: pointer;
}

.grid .card__btn span {
  margin-left: 1rem;
  transition: 0.2s;
}

.grid .card__btn:hover, .grid .card__btn:active {
  background-color: #dce4ff;
}

.grid .card__btn:hover span, .grid .card__btn:active span {
  margin-left: 1.5rem;
}

.tooltiptext {
  visibility: hidden;
  width: 94%;
  background-color: #333;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;
	left: 2%;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  opacity: 0.5;
  display: block;
  top: 10px;
}

.tooltiptext::after {
  	content: " ";
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 12px 12.5px 0 12.5px;
    border-color: #333 transparent transparent transparent;
    position: absolute;
    left: 49%;
    transform: rotate(180deg);
  	top: -10px;
}

.card__text:hover .tooltiptext {
  visibility: visible;
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>vfs_product_card_3</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>VFS Product Card 3</name>
        <option_schema>[{"name":"title","section":"other","label":"Title","type":"string"},{"name":"image","section":"other","label":"Image","type":"string"},{"name":"description","section":"other","label":"Description","type":"string"},{"name":"offer","section":"other","label":"Offer","type":"string"}]</option_schema>
        <public>true</public>
        <roles/>
        <script><![CDATA[

(function() {
    /* populate the 'data' object */
    /* e.g., data.table = $sp.getValue('table'); */

    function fetchData() {
        data.arr = [];
        data.list = "prod_name,prod_desc,prod_image,product_offer".split(",");
    }

    // Function to remove HTML tags
    function removeHtmlTags(input) {
        // Check if DOMParser is supported
        if (typeof DOMParser !== 'undefined') {
            var doc = new DOMParser().parseFromString(input, 'text/html');
            return doc.body.textContent || "";
        } else {
            // Fallback solution if DOMParser is not supported
            return input.replace(/(<([^>]+)>|#)/ig, '');
        }
    }

    // Define a function to fetch and process records
    function fetchRecords() {
        var gr = new GlideRecord('x_rptp_insureme_insurance_products');
        gr.addQuery('active', true);
        gr.query();

        while (gr.next()) {
            var obj = {};
            for (var i = 0; i < data.list.length; i++) {
                var fieldName = data.list[i];
                if (fieldName === 'prod_desc') {
                    obj[fieldName] = removeHtmlTags(gr.getValue(fieldName));
                } else {
                    obj[fieldName] = gr.getDisplayValue(fieldName);
                }
            }
            obj.sys_id = gr.getValue("sys_id");
            data.arr.push(obj);
        }
    }

    fetchData();
    fetchRecords();
})();




]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>karthik.udaykumar</sys_created_by>
        <sys_created_on>2024-01-19 09:54:31</sys_created_on>
        <sys_id>8d41960a93737510acdc3f484dba107e</sys_id>
        <sys_mod_count>54</sys_mod_count>
        <sys_name>VFS Product Card 3</sys_name>
        <sys_package display_value="SmartAssurance old" source="x_rptp_insureme">87b3cc0b4775711055784a02516d4350</sys_package>
        <sys_policy/>
        <sys_scope display_value="SmartAssurance old">87b3cc0b4775711055784a02516d4350</sys_scope>
        <sys_update_name>sp_widget_8d41960a93737510acdc3f484dba107e</sys_update_name>
        <sys_updated_by>karthik.udaykumar</sys_updated_by>
        <sys_updated_on>2024-01-19 12:11:43</sys_updated_on>
        <template><![CDATA[<div>
  <div class="main">
    <div class="grid">
      <div ng-repeat="field in data.arr">
      <div class="card text-center">
        <img class="card__img" src="{{field.prod_image}}">
				<div class="card__content">
           <h1 class="card__header">{{field.prod_name}}</h1>
           <div class="card__text-wrapper">
           		<p class="card__text">{{field.prod_desc}}
             		<span class="tooltiptext">{{field.prod_desc}}</span>
             	</p>
           </div>
        </div>
        <button class="card__btn">Explore</button>
    	</div>   		
    </div>    
  </div>
</div>
]]></template>
    </sp_widget>
</record_update>
