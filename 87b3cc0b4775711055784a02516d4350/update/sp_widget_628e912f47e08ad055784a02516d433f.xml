<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($scope,$window, $uibModal) {
  /* widget controller */
  var c = this;
	c.questions = [
		{ text: 'Have you and/or any of your immediate family members travelled outside India in the last 45 days or do you plan to travel outside India during the next 6 months?', response: null },
		{ text: 'Have you and/or any of your immediate family member tested positive for COVID-19 or are awaiting results of such a test or been advised to be under quarantine due to COVID-19?', response: null },
		{ text: 'Have you and/or any of your immediate family members currently suffering from or in the last 2 months, have suffered from fever, persistent cough, sore throat, breathing difficulties, gastro-intestinal symptoms(vomiting/diarrhea)?', response: null }
	];

	// Function to open the modal dialog when the button is clicked
	c.openModal = function() {
		// Open the modal using the $uibModal service
		c.modalInstance = $uibModal.open({
			templateUrl: 'modalTemplate',  // Template for the modal content
			scope: $scope  // Use the same scope as the controller
		});
	};
};]]></client_script>
        <controller_as>c</controller_as>
        <css>*{
  font-family: "Helvetica";
  color:black;
}

.container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
}

.main{
  padding-top:100px;
 // padding-bottom:300px;
}

.text {
  text-align: center;
  padding: 40px;
}

.cardd {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  text-align: center;
  padding: 20px;
}

img {
  height: 180px;
  width: 250px;
  margin-bottom: 20px;
}

.cat {
  color: blue;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>insurance_categories</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Insurance Categories</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
data.categories = [];

    // Use GlideRecord to query the ServiceNow table
    var gr = new GlideRecord('x_rptp_insureme_insurance_categories'); // Replace 'your_table_name' with the actual table name
    gr.query();

    // Iterate over the records returned by the query
    while (gr.next()) {
        // Extract relevant fields such as name and image URL
        var name = gr.getValue('category_name'); // Replace 'name_field' with the actual field name for product names
        var image = gr.getValue('category_image'); // Replace 'image_field' with the actual field name for image URLs

        // Construct an object representing a product type
        var category = {
            name: name,
            image: image
        };

        // Add the product type object to the array
        data.categories.push(category);
    }
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>harshitha</sys_created_by>
        <sys_created_on>2024-03-01 04:50:52</sys_created_on>
        <sys_id>628e912f47e08ad055784a02516d433f</sys_id>
        <sys_mod_count>60</sys_mod_count>
        <sys_name>Insurance Categories</sys_name>
        <sys_package display_value="SmartAssurance" source="x_rptp_insureme">87b3cc0b4775711055784a02516d4350</sys_package>
        <sys_policy/>
        <sys_scope display_value="SmartAssurance">87b3cc0b4775711055784a02516d4350</sys_scope>
        <sys_update_name>sp_widget_628e912f47e08ad055784a02516d433f</sys_update_name>
        <sys_updated_by>harshitha</sys_updated_by>
        <sys_updated_on>2024-03-01 06:49:20</sys_updated_on>
        <template><![CDATA[<div class="container">
  <!-- your widget template -->

  <div class="main">
    <div class="text">
      <h1>Choose from the below <strong class="cat">Category</strong></h1>
      <p>Get control of all your insurance needs anytime, anywhere</p>
    </div>

    <div class="cardd">
      <div class="category" ng-repeat="category in data.categories">
    <img ng-src="{{ category.image }}" alt="{{ category.name }}" ng-click="c.openModal()">

         
     
        <p><strong>{{ category.name }}</strong><p>
      </div>
    </div>
  </div>
</div>


<script type="text/ng-template" id="modalTemplate">
    <div class="panel panel-default">
    <div class="panel-heading">
        <h4 class="panel-title">Take a moment to answer these questions.</h4>
  </div>
    <div class="panel-body wrapper-xl">
        <div ng-repeat="question in c.questions">
            <p>{{ question.text }}</p>
            <label><input type="radio" ng-model="question.response" ng-value="'Yes'" required> Yes</label>
            <label><input type="radio" ng-model="question.response" ng-value="'No'" required> No</label>
  </div>
        <button class="btn btn-primary">Check Plans</button>
  </div>
  </div>


</script>]]></template>
    </sp_widget>
</record_update>
