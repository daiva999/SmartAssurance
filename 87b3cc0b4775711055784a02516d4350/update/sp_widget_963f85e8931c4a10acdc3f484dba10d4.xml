<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller = function ($scope) {
  var c = this;

  var date = new Date();
  var monthIndex = date.getMonth();
  $scope.year = date.getFullYear();

  $scope.isCurrentDate = function (day) {
    var currentDate = new Date();
    return (
      day === currentDate.getDate() &&
      $scope.months[monthIndex] === $scope.month &&
      $scope.year === currentDate.getFullYear()
    );
  };

  $scope.month = date.toLocaleString("default", {
    month: "long",
  });
  $scope.buttonText = "Select";
  $scope.buttonColor = "";

  $scope.buttontext = "Select";
  $scope.buttoncolor = "";

  $scope.ButtonClicked = function () {
    $scope.buttonText = "Selected";
    $scope.buttonColor = "green";
    $scope.fontcolor = "white";
  };
  $scope.ButtonClick = function () {
    $scope.buttontext = "Selected";
    $scope.buttoncolor = "green";
    $scope.fontcolor = "white";
  };
  $scope.Firstslot = false;
  $scope.Secondslot = false;

  $scope.toggleButton = function (slot) {
    if (slot === "Firstslot") {
      $scope.Firstslot = true;
      $scope.Secondslot = false;
    } else if (slot === "Secondslot") {
      $scope.Secondslot = true;
      $scope.Firstslot = false;
    }
    if ($scope.Firstslot === true) {
      $scope.time1 = "8:15 - 9:00";
    } else if ($scope.Secondslot === true) {
      $scope.time1 = "14:00 - 14:30";
    }
  };

  $scope.months = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December",
  ];

  var max = $scope.months.length - 1;
  var min = 0;

  $scope.month = $scope.months[monthIndex];

  $scope.days = [];

  $scope.updateDays = function () {
    var year = $scope.year;
    var daysInMonth = new Date(year, monthIndex + 1, 0).getDate();
    $scope.days = [];
    for (var i = 1; i <= daysInMonth; i++) {
      $scope.days.push(i);
    }
  };

  $scope.updateDays();

  $scope.currentDate = new Date().getDate();

  $scope.isCurrentDate = function (day) {
    return day === $scope.currentDate;
  };

  $scope.check = true;

  $scope.Forward = function () {
    monthIndex++;
    if (monthIndex > max) {
      monthIndex = min;
      $scope.year++;
    }
    $scope.month = $scope.months[monthIndex];
    $scope.updateDays();
  };

  $scope.Backward = function () {
    monthIndex--;
    if (monthIndex < min) {
      monthIndex = max;
      $scope.year--;
    }
    $scope.month = $scope.months[monthIndex];
    $scope.updateDays();
  };

  var selectedDate, selectedMonth, selectedYear, finalDate;

  $scope.selectDate = function (day, event) {
    var currentFocused = document.querySelector(".dates button.today");
    if (currentFocused) {
      currentFocused.classList.remove("today");
    }

    selectedDate = day;
    selectedMonth = $scope.months.indexOf($scope.month) + 1;
    selectedYear = 2024;
    finalDate = selectedDate + "-" + selectedMonth + "-" + selectedYear;

    event.target.classList.add("today");
  };

  $scope.Updates = function () {
    if (!$scope.time1 || !finalDate) {
      alert("Please select both time and date.");
      return;
    }

    var appointmentTimeObj = {
      time: $scope.time1,
      date: finalDate,
    };

    sessionStorage.setItem(
      "appointmentTime",
      JSON.stringify(appointmentTimeObj)
    );

    location.href = "/vfsp?id=services";
  };
};
]]></client_script>
        <controller_as>c</controller_as>
        <css>body {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  
}

.container {
  display: flex;
}

.container .left-container,
.container .right-container {
  width: 50%;
  padding: 20px;
  box-sizing: border-box;
  border: none;
}

.calendar {
  display: inline-grid;
  justify-content: center;
  width: 100%;
  align-items: center;
  background: #fff;
  padding: 20px;
  border-radius: 5px;
  box-shadow: 0px 40px 30px -20px rgba(0, 0, 0, 0.3);

  .month {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 20px;
    margin-bottom: 20px;
    font-weight: 300;
    width: 100%;

    .year {
      font-weight: 600;
      margin-left: 10px;
      width: 100%;
    }

    .nav {
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      color: #0a3d62;
      width: 40px;
      height: 40px;
      border-radius: 40px;
      transition-duration: 0.2s;
      position: relative;

      &amp;:hover {
        background: #eee;
      }
    }
  }

  .days {
    display: grid;
    justify-content: center;
    align-items: center;
    grid-template-columns: repeat(7, 1fr);
    color: #999;
    font-weight: 600;
    margin-bottom: 15px;
    width: 100%;

    span {
      width: 50px;
      justify-self: center;
      align-self: center;
      text-align: center;
      width: 100%;
    }
  }

  .dates {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    width: 100%;

    button {
      cursor: pointer;
      outline: 0;
      border: 0;
      background: transparent;
      font-family: "Montserrat", sans-serif;
      font-size: 16px;
      justify-self: center;
      align-self: center;
      width: 50px;
      height: 50px;
      border-radius: 50px;
      margin: 2px;
      transition-duration: 0.2s;

      &amp;.today {
        box-shadow: inset 0px 0px 0px 2px #0a3d62;
      }

      &amp;:first-child {
        grid-column: 3;
      }

      &amp;:hover {
        background: #eee;
      }

      &amp;:focus {
        background: #0a3d62;
        color: #fff;
        font-weight: 600;
      }

      &amp;:active {
        background: #0a3d62;
        color: #fff;
        font-weight: 600;
      }
    }
  }
}

.dates button.today {
  background: #0a3d62;
  color: #fff;
  font-weight: 600;
}

.container {
  display: flex;
}

.option {
  display: inline-block;
  margin-right: 20px;
}

.option input[type="radio"] {
  display: none;
}

.checkmark {
  position: relative;
  display: inline-block;
  width: 20px;
  height: 20px;
  background-color: #ccc;
  border-radius: 50%;
  margin-right: 5px;
}

.option input[type="radio"]:checked + .checkmark {
  background-color: #007bff;
}

.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

.option input[type="radio"]:checked + .checkmark:after {
  display: block;
}

.checkmark:after {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: white;
}

.time-table {
  width: 100%;
  height: 10px;
  border-collapse: collapse;
  overflow-y: auto;
}

.time-table th,
.time-table td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

/* Make the outer borders invisible */
.time-table th:first-child,
.time-table td:first-child {
  border-left: 0;
}

.time-table th:last-child,
.time-table td:last-child {
  border-right: 0;
}

.time-table tr:first-child th,
.time-table tr:first-child td,
.time-table tr:last-child th,
.time-table tr:last-child td {
  border-top: 0;
  border-bottom: 0;
}


.time-table tr:nth-child(even) {
  // background-color: #f2f2f2;
}

select {
  width: 100%;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}

.button-container {
  display: flex;
}

.go-back-button,
.submit-button {
  padding: 10px 20px;
  border: none;
  background-color: #007bff;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
}

.go-back-button {
  margin-right: 10px;
   background-color: #e86020;
}

.submit-button {
  margin-left: 10px;
   background-color: #e86020;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>book_a_appoinment</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>book a appoinment</name>
        <option_schema/>
        <public>true</public>
        <roles/>
        <script/>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>Surya.Prathap</sys_created_by>
        <sys_created_on>2024-02-08 09:46:28</sys_created_on>
        <sys_id>963f85e8931c4a10acdc3f484dba10d4</sys_id>
        <sys_mod_count>275</sys_mod_count>
        <sys_name>book a appoinment</sys_name>
        <sys_package display_value="SmartAssurance old" source="x_rptp_insureme">87b3cc0b4775711055784a02516d4350</sys_package>
        <sys_policy/>
        <sys_scope display_value="SmartAssurance old">87b3cc0b4775711055784a02516d4350</sys_scope>
        <sys_update_name>sp_widget_963f85e8931c4a10acdc3f484dba10d4</sys_update_name>
        <sys_updated_by>Surya.Prathap</sys_updated_by>
        <sys_updated_on>2024-03-04 05:25:18</sys_updated_on>
        <template><![CDATA[<div>
  <h1>Book an Appointment</h1>
  <p>
    First choose the type of appointment you would like, followed by your
    preferred date. You will then be able to select from all the time slots
   currently available on that day.
  </p>
</div>
<div class="container">
  <label class="option">
    <input type="radio" name="appointmentType" value="walkIn" />
    <span class="checkmark"></span>
    Walk-in
  </label>
  <label class="option">
    <input
      type="radio"
      name="appointmentType"
      value="chooseSlot"
      checked="checked"
    />
    <span class="checkmark"></span>
    Choose a Slot
  </label>
</div>
<div class="container">
  <div class="left-container">
    <div class="calendar">
      <div class="month">
        <a href="javascript:void(0)" class="nav"
          ><i class="fa fa-angle-left" ng-click="Backward()"></i
        ></a>
        <div>{{month}}<span class="year">{{year}}</span></div>
        <a href="javascript:void(0)" class="nav"
          ><i class="fa fa-angle-right" ng-click="Forward()"></i
        ></a>
      </div>
      <div class="days">
        <span>Mon</span>
        <span>Tue</span>
        <span>Wed</span>
        <span>Thu</span>
        <span>Fri</span>
        <span>Sat</span>
        <span>Sun</span>
      </div>
      <div class="dates">
        <button
          ng-repeat="day in days"
          ng-class="{ 'today': isCurrentDate(day) }"
          ng-click="selectDate(day, $event)"
        >
          <time>{{ day }}</time>
        </button>
      </div>
    </div>

    <br />
  </div>

  <div class="right-container">
    <div style="padding: 20px; margin: 20px">
      <h2>Choose an Appointment time</h2>

      <table class="time-table" style="border: none; width: 100%">
        <tr>
          <th style="padding: 10px">Time</th>
          <th style="padding: 10px">Standard</th>
        </tr>
        <tr>
          <td style="padding: 10px">8:15</td>
          <td style="padding: 10px">
            <button
              ng-click="toggleButton('Firstslot')"
              ng-style="{'background-color': Firstslot ? '#e86020' : '', 'color': Firstslot ? 'white' : '', 'border-radius': '10px'}"
            >
              {{ Firstslot ? 'Selected' : 'Select' }}
            </button>
          </td>
        </tr>
        <tr>
          <td style="padding: 10px">14:00</td>
          <td style="padding: 10px">
            <button
              ng-click="toggleButton('Secondslot')"
             ng-style="{'background-color': Secondslot ? '#e86020' : '', 'color': Secondslot ? 'white' : '', 'border-radius': '10px'}"
>
              {{ Secondslot ? 'Selected' : 'Select' }}
            </button>
          </td>
        </tr>
      </table>
      <div
        class="button-container ny-3"
        style="padding: 10px; margin-top: 20px; margin-left: 40px"
      >
        <!-- "Go Back" button with border radius -->
        <button
          class="go-back-button"
          style="
            margin-right: 10px;
            background-color: e86020;
            border-radius: 10px;
          "
        >
          Go Back
        </button>

        <!-- "Submit" button with border radius -->
        <button
          class="submit-button"
          style="background-color: e86020; border-radius: 10px"
          ng-click="Updates()"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>
]]></template>
    </sp_widget>
</record_update>
